const fs=require('fs');const p='c:/dev/gradio-hugginface-crudAI/orchestration-builder.html';const s=fs.readFileSync(p,'utf8');const re=/<script[^>]*>([\s\S]*?)<\/script>/i;const m=re.exec(s);if(!m){console.error('no script');process.exit(1);}const script=m[1];let stack=[];let inSingle=false,inDouble=false,inTemplate=false;for(let i=0;i<script.length;i++){const ch=script[i];if(ch==='\\'){i++;continue;} if(!inDouble && !inTemplate && ch==="'") inSingle=!inSingle; else if(!inSingle && !inTemplate && ch==='"') inDouble=!inDouble; else if(!inSingle && !inDouble && ch==='`') inTemplate=!inTemplate; if(inSingle||inDouble||inTemplate) continue; if(ch==='(') stack.push({c:'(',pos:i}); else if(ch===')'){const last=stack[stack.length-1]; if(!last||last.c!=='('){console.log('UNMATCHED ) at',i); console.log(script.slice(i-80,i+80)); process.exit(0);} stack.pop();} if(ch==='[') stack.push({c:'[',pos:i}); else if(ch===']'){const last=stack[stack.length-1]; if(!last||last.c!=='['){console.log('UNMATCHED ] at',i); console.log(script.slice(i-80,i+80)); process.exit(0);} stack.pop();} if(ch==='{') stack.push({c:'{',pos:i}); else if(ch==='}'){const last=stack[stack.length-1]; if(!last||last.c!=='{'){console.log('UNMATCHED } at',i); console.log('snippet:',script.slice(i-80,i+80)); console.log('stack top:',stack[stack.length-1]); process.exit(0);} stack.pop();}} if(stack.length) console.log('REMAINING STACK TOP',stack[stack.length-1]); else console.log('BALANCED');